{"version":3,"sources":["../src/carousel.js"],"names":[],"mappings":"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","file":"carousel.js","sourcesContent":["const _ = require(\"lodash\");\nconst ViewportDetect = require(\"viewport-detection-es6\");\nconst viewport = new ViewportDetect();\n\nclass CarouselClass {\n  constructor(config = {}, init = true) {\n    this.config = _.defaults(config,\n      { itemClass: \"carousel-item\", autoPlay: false }\n    );\n\n    if(init) {\n      this._initViewport();\n      this._init();\n    }\n  }\n\n  render() {\n    this._getItems();\n    this._setDefaultSelected();\n  }\n\n  _addDotClickListeners() {\n    _.forEach(this.dots, function(dot) {\n      dot.addEventListener(\"click\", this._dotClick.bind(this), false);\n    }.bind(this));\n  }\n\n  _addFocusListeners() {\n    this.config.element.addEventListener(\"mouseenter\", this._stopAutoPlay.bind(this), false);\n    this.config.element.addEventListener(\"mouseleave\", this._restartTimer.bind(this), false);\n  }\n\n  _addNextListener() {\n    this.nextButton.addEventListener(\"click\", this._next.bind(this), false);\n  }\n\n  _addPreviousListener() {\n    this.previousButton.addEventListener(\"click\", this._previous.bind(this), false);\n  }\n\n  _animateItemFinish(e) {\n    let item = e.target;\n\n    _.defer(() => {\n      this.animating = false;\n    })\n\n    item.className = item.className.replace(/(?:^|\\s)animating(?!\\S)/g, \"\");\n  }\n\n  _animateItemStart(item, st, end) {\n    item.style.left = st;\n\n    _.delay(() => {\n      this.animating = true;\n      item.style.left = end;\n      item.className += \" animating\";\n\n    }, 100);\n\n    this.eventManager.addListener(item, \"transitionend\", this._animateItemFinish.bind(this));\n  }\n\n  _checkDataURLs() {\n    let dataURLs, imageContainer, dataURLMobile, dataURLTablet, dataURLDesktop;\n    \n    _.forEach(this.items, function(item) {\n      imageContainer = this._skipTextNodes(item, \"firstChild\");\n      dataURLMobile = imageContainer.getAttribute(\"data-mobile\");\n      dataURLTablet = imageContainer.getAttribute(\"data-tablet\");\n      dataURLDesktop = imageContainer.getAttribute(\"data-desktop\");\n      dataURLs = [\n        { mobile: dataURLMobile },\n        { tablet: dataURLTablet},\n        { desktop: dataURLDesktop}\n      ];\n\n      _.forEach(dataURLs, (dataURL) => {\n        _.map(dataURL, (v, k) => {\n          if((_.isNull(v)) || (_.includes(v, \"null\"))) {\n            this._overrideNullDataURLs(k, dataURLDesktop, imageContainer);\n          }\n        });\n      });\n\n      this.hasDataURLs = true;\n      this._setBackgroundImages(this.device);\n    }.bind(this));\n  }\n\n  _createArrowNav(direction, parent) {\n    let a, span, svg;\n\n    a = document.createElement(\"a\");\n    span = document.createElement(\"span\");\n\n    a.id = \"carousel-\" + direction;\n    a.setAttribute(\"href\", \"#\");\n\n    if(direction === \"previous\") {\n      span.innerHTML = \"Previous\";\n      a.appendChild(span);\n      svg = this._createArrowNavSvg(direction);\n      a.appendChild(svg);\n      this.previousButton = a;\n      this._addPreviousListener();\n    } else {\n      span.innerHTML = \"Next\";\n      a.appendChild(span);\n      svg = this._createArrowNavSvg(direction);\n      a.appendChild(svg);\n      this.nextButton = a;\n      this._addNextListener();\n    }\n\n    parent.appendChild(a);\n  }\n\n  _createArrowNavContainer() {\n    let li, ul;\n\n    ul = document.createElement(\"ul\");\n    ul.className = \"carousel-arrows-container\";\n\n    _.times(2, function(i) {\n      li = document.createElement(\"li\");\n\n      li.className = i === 0 ? \"previous\" : \"next\";\n      this._createArrowNav(i === 0 ? \"previous\" : \"next\", li);\n\n      ul.appendChild(li);\n    }.bind(this));\n\n    this.config.element.appendChild(ul);\n  }\n\n  _createArrowNavSvg(direction) {\n    let pathA = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    let pathB = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    let svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n\n    svg.setAttribute(\"fill\", \"#4a4a4a\");\n    svg.setAttribute(\"height\", \"48\");\n    svg.setAttribute(\"viewBox\", \"0 0 24 24\");\n    svg.setAttribute(\"width\", \"48\");\n    svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n\n    if(direction === \"next\") {\n      pathA.setAttributeNS(null, \"d\", \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\");\n      pathB.setAttributeNS(null, \"d\", \"M0-.25h24v24H0z\");\n    } else {\n      pathA.setAttributeNS(null, \"d\", \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\");\n      pathB.setAttributeNS(null, \"d\", \"M0-.5h24v24H0z\");\n    }\n\n    pathB.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(pathA);\n    svg.appendChild(pathB);\n\n    return svg;\n  }\n\n  _createDotsNav() {\n    let a, li;\n    let ul = this.dotsContainer.getElementsByTagName(\"ul\")[0];\n\n    _.forEach(this.items, function(item, i) {\n      a = document.createElement(\"a\");\n      li = document.createElement(\"li\");\n\n      a.setAttribute(\"href\", \"#\");\n\n      li.appendChild(a);\n      ul.appendChild(li);\n    }.bind(this));\n\n    this._getDots();\n  }\n\n  _createDotsNavContainer() {\n    let div = document.createElement(\"div\");\n    let ul = document.createElement(\"ul\");\n    this.dotsContainer = document.createElement(\"div\");\n\n    div.className = \"carousel-dots\";\n    this.dotsContainer.id = \"carousel-dots-container\";\n\n    div.appendChild(ul);\n    this.dotsContainer.appendChild(div);\n    this.config.element.appendChild(this.dotsContainer);\n\n    this._createDotsNav();\n  }\n\n  _dotClick(e) {\n    let index = _.indexOf(this.dots, e.target);\n\n    if(!this.animating) {\n      if(this.itemActive !== index) {\n        this.itemOut = this.itemActive;\n        this.itemActive = index;\n\n        this._setDotClass(e.target);\n        this._setSelected(\"next\");\n      }\n    }\n\n    e.preventDefault();\n  }\n\n  _getDots() {\n    this.dots = this.dotsContainer.getElementsByTagName(\"a\");\n\n    this._addDotClickListeners();\n    this._setDotClass((this.dots[this.itemActive]));\n  }\n\n  _getItems() {\n    this.items = this.config.element.querySelectorAll(\".\" + this.config.itemClass);\n\n    if(this.items.length > 1) {\n      this._createArrowNavContainer();\n      this._createDotsNavContainer();\n    }\n\n    this._checkDataURLs();\n  }\n\n  _init() {\n    this.animating = false;\n    this.eventManager = this._manageListeners();\n    this.hasDataURLs = false;\n    this.itemActive = 0;\n    this.items = [];\n    this.render();\n  }\n\n  _initViewport() {\n    this.device = viewport.getDevice();\n    this.size = viewport.windowSize();\n    viewport.trackSize(this._trackSize.bind(this));\n  }\n\n  _manageListeners(){\n    let listenerArray = [];\n\n    return {\n      addListener: (target, event, fn) => {\n        listenerArray.push({\n          target : target,\n          event  : event,\n          fn     : fn\n        });\n\n        target.addEventListener(event, fn, false);\n      },\n\n      removeAll: () => {\n        if(listenerArray.length > 0) {\n          _.forEach(listenerArray, (cur) => {\n            cur.target.removeEventListener(cur.event, cur.fn, false);\n            cur.target.className.replace(/(?:^|\\s)animating(?!\\S)/g, \"\");\n          });\n\n          listenerArray = [];\n        }\n      }\n    }\n  }\n\n  _next(e) {\n    if(!this.animating) {\n      this.itemOut = this.itemActive;\n\n      if(this.itemActive < this.items.length - 1) {\n        this.itemActive++;\n      } else {\n        this.itemActive = 0;\n      }\n\n      this._setSelected(\"next\");\n    }\n\n    e.preventDefault();\n  }\n\n  _overrideNullDataURLs(breakpoint, dataURLDesktop, imageContainer) {\n    imageContainer.setAttribute(`data-${breakpoint}`, dataURLDesktop);\n  }\n\n  _previous(e) {\n    if(!this.animating) {\n      this.itemOut = this.itemActive;\n\n      if(this.itemActive > 0) {\n        this.itemActive--;\n      } else {\n        this.itemActive = this.items.length - 1;\n      }\n\n      this._setSelected(\"previous\");\n    }\n\n    e.preventDefault();\n  }\n\n  _restartTimer() {\n    if(!this.animating || this.items.length < 2) {\n      this._stopAutoPlay();\n      this.timer = window.setInterval(this._startAutoPlay.bind(this), 5000);\n    }\n  }\n\n  _setBackgroundImages(device) {\n    _.forEach(this.items, function(item) {\n      let imageContainer = this._skipTextNodes(item, \"firstChild\");\n\n      let url = imageContainer.getAttribute(\"data-\" + device);\n\n      imageContainer.style.backgroundImage = \"url(\" + url + \")\";\n    }.bind(this));\n  }\n\n  _setDefaultSelected() {\n    let items = _.difference(this.items, [this.items[this.itemActive]]);\n    let windowWidth = this.config.element.clientWidth;\n\n    this.items[this.itemActive].style.left = 0;\n\n    if(items.length > 0) {\n      _.forEach(items, function(item) {\n        item.style.left = windowWidth + \"px\";\n      });\n    }\n\n    if(this.config.autoPlay) {\n      this._addFocusListeners();\n      this._restartTimer();\n    }\n  }\n\n  _setDotClass(clickedDot) {\n    _.forEach(this.dots, function(dot) {\n      let className = dot.className;\n\n      dot.className = className.replace(/(?:^|\\s)active(?!\\S)/g, \"\");\n    });\n\n    clickedDot.className += \" active\";\n  }\n\n  _setPosition(direction, position) {\n    let inPos, outPos;\n\n    if(direction === \"next\") {\n      inPos = -position + \"px\";\n      outPos = position + \"px\";\n    } else if(direction === \"previous\") {\n      inPos = position + \"px\";\n      outPos = -position + \"px\";\n    }\n\n    return {\n      inPos: inPos,\n      outPos: outPos\n    };\n  }\n\n  _setSelected(direction) {\n    let windowWidth = this.config.element.clientWidth;\n    let pos = this._setPosition(direction, windowWidth);\n\n    this.eventManager.removeAll();\n    this.itemIn = this.itemActive;\n    this._animateItemStart(this.items[this.itemIn], pos.inPos, 0);\n    this._animateItemStart(this.items[this.itemOut], 0, pos.outPos);\n    this._setDotClass((this.dots[this.itemActive]));\n  }\n\n  _skipTextNodes(el, method) {\n    let element = el[method];\n\n    while(element !== null && element.nodeType !== 1) {\n      element = element.nextSibling;\n    }\n\n    return element;\n  }\n\n  _startAutoPlay() {\n    this.itemOut = this.itemActive;\n\n    if(this.itemActive < this.items.length - 1) {\n      this.itemActive++;\n    } else {\n      this.itemActive = 0;\n    }\n\n    this._setSelected(\"next\");\n  }\n\n  _stopAutoPlay() {\n    if(!this.animating && !_.isUndefined(this.timer)) {\n      window.clearInterval(this.timer);\n\n      this.timer = undefined;\n    }\n  }\n\n  _trackSize(device, size) {\n    if(this.device !== device) {\n      this.device = device;\n\n      if(this.hasDataURLs) {\n        this._setBackgroundImages(this.device);\n      }\n    }\n\n    this.size = size;\n  }\n}\n\nmodule.exports = CarouselClass;\n"]}